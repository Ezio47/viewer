<!DOCTYPE html>

<link rel="import" href="packages/polymer/polymer.html">

<link rel="import" href="packages/core_elements/core_collapse.html">
<link rel="import" href="packages/core_elements/core_icon_button.html">
<link rel="import" href="packages/core_elements/core_item.html">
<link rel="import" href="packages/core_elements/core_list_dart.html">
<link rel="import" href="packages/core_elements/core_field.html">

<link rel="import" href="packages/paper_elements/paper_icon_button.html">
<link rel="import" href="packages/paper_elements/paper_button.html">
<link rel="import" href="packages/paper_elements/paper_dialog.html">
<link rel="import" href="packages/paper_elements/paper_dialog_transition.html">

<link rel="import" href="packages/core_elements/core_icon.html">
<link rel="import" href="packages/core_elements/core_iconset.html">
<link rel="import" href="packages/core_elements/core_iconset_svg.html">
<link rel="import" href="packages/core_elements/image_icons.html">

<link rel="import" href="rialto_icons.html">

<polymer-element name="settings-element">

    <template>
        <style>
            :host {
            }
            paper-dialog {
            }
            hr {
                width:95%;
            }
            .padded {
                padding: 4px;
            }
            .pad10 {
                padding: 10px;
            }
            .padright {
                margin: 0px 5px 0px 0px;
            }
            .selectedlistitem {
                background: silver;
            }
            .marginned {
                margin: 2px;
                padding: 2px;
                border-style: solid;
                border-width: 1px;
                border-color: grey;
            }

            .regularroundbutton  paper-icon-button /deep/ core-icon[role=img] {

            }
            .regularroundbutton paper-icon-button {
                background: #404040;
                opacity: 0.85;
                stroke: #c0c0c0;
                margin: 1px;
                border-radius: 50%;
            }

            .smallroundbutton paper-icon-button /deep/ core-icon[role=img] {
                height: 16px;
                width: 16px;
            }
            .smallroundbutton paper-icon-button {
                height: 16px;
                width: 16px;
                background: #404040;
                opacity: 0.85;
                stroke: #c0c0c0;
                margin: 1px;
                border-radius: 50%;
            }

            .regularsquarebutton  paper-icon-button /deep/ core-icon[role=img] {
                height: 24px;
                width: 24px;
            }
            .regularsquarebutton paper-icon-button {
                height: 24px;
                width: 24px;
                background: #404040;
                opacity: 0.85;
                color: #c0c0c0;
                margin: 1px;
                border-radius: 4px;
            }
           .darkpanel {
                opacity: 0.95;
                background: #202020;
                padding: 2px;
                border-radius: 4px;
                border-style: solid;
                border-width: 1px;
                border-color: #404040;
                margin: 2px;
            }
            .lightpanel {
                opacity: 0.95;
                background: #404040;
                padding: 2px;
                border-radius: 4px;
                border-style: solid;
                border-width: 1px;
                border-color: #606060;
                margin: 2px;
            }
            .textlabel {
                color: #b0b0b0;
            }
            td {
                padding: 0px 10px 0px 0px;
            }
        </style>


        <div vertical layout class="">


            <!-- LAYERS -->
            <div class="darkpanel">
                <div layout horizontal center class="smallroundbutton">
                    <paper-icon-button icon="rialto-icons-small:chevdown" on-click="{{toggleCollapse2}}"></paper-icon-button>
                    <span class="textlabel">Files</span>
                </div>
                <core-collapse id="collapse2" duration="0.10">
                    <div class="lightpanel">
                        <div style="padding:2px;">
                            <core-list-dart data="{{files}}" height="20px"
                                    selectionEnabled="{{selectionEnabled}}"
                                    selection="{{selection}}"
                                    on-core-activate = "{{selectionMade}}"
                                    style="height:150px;"
                                    multi="false"
                                    id="file-list">
                                <template>
                                    <div layout horizontal class="{{ {selectedlistitem: selected} }}" style="height: 20px" id="{{index}}">
                                        <input type="checkbox" name="filescheck" checked="{{model.checked}}" class="padright">
                                        <span>{{model.name}}</span>
                                    </div>
                                </template>
                            </core-list-dart>
                        </div>
                        <hr>
                        <div class="smallroundbutton" style="margin:0px;">
                            <paper-icon-button icon="rialto-icons-small:plus" on-click="{{openFile}}"></paper-icon-button>
                            <paper-icon-button icon="rialto-icons-small:minus" on-click="{{deleteFile}}"></paper-icon-button>
                        </div>

                    </div>
                </core-collapse>
            </div>


            <!-- DISPLAY -->
            <div class="darkpanel">
                <div layout horizontal center class="smallroundbutton">
                    <paper-icon-button icon="rialto-icons-small:chevdown" on-click="{{toggleCollapse3}}"></paper-icon-button>
                    <span class="textlabel">Display</span>
                </div>

                <core-collapse id="collapse3" duration="0.10">
                    <div class="lightpanel">

                          <form action="" style="padding:2px;">
                            <div>
                                <label>
                                    <input type="radio" name="axescontrol" checked="{{axesbool1}}" class="padright">
                                    <span>Toggle axes</span>
                                </label>
                            </div>
                            <div>
                                <label>
                                    <input type="radio" name="axescontrol" checked={{axesbool2}} class="padright">
                                    <span>Toggle bbox</span>
                                </label>
                            </div>
                            <div>
                                <label>
                                    <input type="radio" name="axescontrol" checked="{{axesbool3}}" class="padright">
                                    <span>None</span>
                                </label>
                            </div>
                          </form>
                    </div>
                </core-collapse>
            </div>


            <!-- DATA -->
            <div class="darkpanel">
                <div layout horizontal center class="smallroundbutton">
                    <paper-icon-button icon="rialto-icons-small:chevdown" on-click="{{toggleCollapse4}}"></paper-icon-button>
                    <span class="textlabel">Data</span>
                </div>

                <core-collapse id="collapse4" duration="0.10">
                    <template if="{{hasData}}">
                    <div class="lightpanel">
                        <div style="padding:2px;">

                            <table>
                                <tr>
                                    <td>Points:</td>
                                    <td>{{numPoints}}</td>
                                </tr>
                                <tr>
                                    <td>X:</td>
                                    <td>{{minx.toStringAsFixed(3)}}</td>
                                    <td>{{maxx.toStringAsFixed(3)}}</td>
                                </tr>
                                <tr>
                                    <td>Y:</td>
                                    <td>{{miny.toStringAsFixed(3)}}</td>
                                    <td>{{maxy.toStringAsFixed(3)}}</td>
                                </tr>
                                <tr>
                                    <td>Z:</td>
                                    <td>{{minz.toStringAsFixed(3)}}</td>
                                    <td>{{maxz.toStringAsFixed(3)}}</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    </template>
                </core-collapse>
            </div>

    </div>

    <!-- autoFocusDisabled="true" autoCloseDisabled="true" -->
    <paper-dialog heading="Load point cloud file" id="openDialog">

        <div class="pad10">
            <core-field>
                <label>
                    <span>Server:</span>
                    <input placeholder="http://www.example.com" id="xxfilenamearea" type="text" style="width:200px;">
                </label>
            </core-field>
        </div>

        <div class="padded">
            <core-list-dart data="{{items}}" height="20px"
                            selectionEnabled="{{itemSelectionEnabled}}"
                            selection="{{itemSelection}}"
                            on-core-activate = "{{itemSelectionMade}}"
                            style="width:300px;height:200px;"
                            multi="false"
                            id="file-list2">
                        <template>
                            <div layout horizontal class="{{ {selectedlistitem: selected} }}" style="height: 20px" id="{{index}}">
                                <span>{{model.name}}
                                    <template if="{{model.numPoints > -1}}">
                                        <div style="display: inline-block; width: 1em; height: 1em;"></div>
                                        <span style="font-size: 75%;"><i>{{model.size}}</i></span>
                                    </template>
                                </span>
                            </div>
                        </template>
            </core-list-dart>
        </div>

        <div>
            <paper-button dismissive on-click="{{openFileCancel}}">Cancel</paper-button>
            <paper-button affirmative on-click="{{openFileOkay}}">OK</paper-button>
        </div>
    </paper-dialog>

    </template>

    <script type="application/dart" src="settings_element.dart"></script>

</polymer-element>
