<!DOCTYPE html>
<!-- Copyright (c) 2014, RadiantBlue Technologies, Inc.  -->
<!-- This file may only be used under the MIT-style      -->
<!-- license found in the accompanying LICENSE.txt file. -->

<link rel="import" href="packages/polymer/polymer.html">

<link rel="import" href="packages/core_elements/core_collapse.html">
<link rel="import" href="packages/core_elements/core_icon_button.html">
<link rel="import" href="packages/core_elements/core_item.html">
<link rel="import" href="packages/core_elements/core_list_dart.html">
<link rel="import" href="packages/core_elements/core_field.html">

<link rel="import" href="packages/paper_elements/paper_icon_button.html">
<link rel="import" href="packages/paper_elements/paper_button.html">
<link rel="import" href="packages/paper_elements/paper_dialog.html">
<link rel="import" href="packages/paper_elements/paper_dialog_transition.html">

<link rel="import" href="packages/core_elements/core_icon.html">
<link rel="import" href="packages/core_elements/core_iconset.html">
<link rel="import" href="packages/core_elements/core_iconset_svg.html">
<link rel="import" href="packages/core_elements/image_icons.html">

<link rel="import" href="rialto_icons.html">

<polymer-element name="server-browser-element">

    <template>
        <style>
            /*
             * inherited styles
             */
            .light-panel-style {
                opacity: 0.95;
                background: #404040;
                padding: 2px;
                border-radius: 4px;
                border-style: solid;
                border-width: 1px;
                border-color: #606060;
                margin: 2px;
            }
            .hr-style {
                width:95%;
            }
            .selecteditemstyle {
                background: silver;
            }
            .min-panel-width {
                min-width: 300px;
            }
            .listbox-style {
                width: 300px;
                height: 200px;
                border-style: solid;
                border-width: 1px;
            }
            .listbox-item-style {
                height: 20px;
            }
            .input-textbox-style {
                width: 200px;
            }

            .noborder {
                border-style: none;
            }
            .pad4 {
                padding: 4px;
            }
            .mar3 {
                margin: 3px;
            }
            .mar4 {
                margin: 4px;
            }
        </style>


        <div class="light-panel-style min-panel-width">

            <div class="pad4" layout vertical>
                    <label>
                        <span>Server:</span>
                        <input placeholder="{{defaultServer}}" id="servername" type="text" class="input-textbox-style">
                    </label>
                    <div layhout horizontal>
                        <paper-button on-click="{{doCloseServer}}" disabled="{{!isServerOpen}}"
                            style="border-style: solid; margin:4px;">Close server</paper-button>
                        <paper-button on-click="{{doOpenServer}}" disabled="{{isServerOpen}}"
                            style="border-style: solid; margin:4px;">Connect to server</paper-button>
                    </div>
            </div>

            <hr class="hr-style mar3 noborder">

            <div class="pad4">
                <core-list-dart data="{{items}}" height="20px" class="listbox-style pad4"
                                selectionEnabled="{{isSelectionEnabled}}"
                                selection="{{selectedItem}}"
                                on-core-activate = "{{doSelectionMade}}"
                                multi="false"
                                id="file-list2">
                            <template>
                                <div layout horizontal class="{{ {selecteditemstyle: selected} }} listbox-item-style" id="{{index}}">
                                    <span>{{model.name}}
                                        <template if="{{model.numPoints > -1}}">
                                            <div style="display: inline-block; width: 1em; height: 1em;"></div>
                                            <span style="font-size: 75%;"><i>{{model.size}}</i></span>
                                        </template>
                                    </span>
                                </div>
                            </template>
                </core-list-dart>
            </div>

            <div>
                <paper-button on-click="{{doCancel}}">Cancel</paper-button>
                <paper-button on-click="{{doOpenFile}}" disabled="{{!isServerOpen || !isFileSelected}}">Open File</paper-button>
            </div>

        </div>

    </template>

    <script type="application/dart" src="server_browser_element.dart"></script>

</polymer-element>
